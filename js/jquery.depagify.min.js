/*
 * depagify
 *
 * @repository http://github.com/ericclemmons/de-pagify
 * Copyright (c) 2009 Eric Clemmons (eric@uxdriven.com)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 */
;(function(c){var e,i={container:"body",filter:null,trigger:0.9,request:function(j){},success:function(k,j){},effect:function(){c(this).show()}},f=function(){c(window).bind("scroll",h);h()},d=function(){c(window).unbind("scroll",h)},h=function(j){if(a(j)){d();g()}},a=function(n){if(c.isFunction(i.trigger)){return i.trigger.call(e,n)}var l=c(window),m=l.scrollTop()+l.height(),k,j;switch(typeof i.trigger){case"string":k=c(i.trigger).offset().top;break;default:j=c("body").innerHeight();if(i.trigger>0&&i.trigger<=1){k=j*i.trigger}else{k=j-i.trigger}break}return(m>=k)?true:false},g=function(){i.request.call(e,i);if(/1\.(0|1|2|3)\.(0|1)/.test(c.fn.jquery)||/^1.1/.test(c.fn.jquery)||/^1.2/.test(c.fn.jquery)){if(i.selector!=="undefined"){e.selector=i.selector}else{jQuery.error("Depagify need a selector option.")}}var j=[e.attr("href"),i.container,i.filter].join(" ");jQuery("<div />").hide().appendTo(i.container).load(j,b)},b=function(l,j,k){i.effect.call(this);e=c("<div />").append(l.replace(/<script(.|\s)*?\/script>/g,"")).find(e.selector);i.success.apply(e,[k,i]);if(e.length>0){f()}};c.fn.depagify=function(j){i=c.extend(i,j);e=this;f();return e}})(jQuery);